{"version":3,"sources":["webpack://@sycho/flarum-asirem/webpack/bootstrap","webpack://@sycho/flarum-asirem/./forum.js","webpack://@sycho/flarum-asirem/./src/forum/components/TagsPage.js","webpack://@sycho/flarum-asirem/./src/forum/index.js","webpack://@sycho/flarum-asirem/external \"flarum.core.compat['common/extend']\"","webpack://@sycho/flarum-asirem/external \"flarum.core.compat['components/IndexPage']\"","webpack://@sycho/flarum-asirem/external \"flarum.core.compat['components/Link']\"","webpack://@sycho/flarum-asirem/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@sycho/flarum-asirem/external \"flarum.core.compat['extensions/afrux-theme-base/forum/components/Footer']\"","webpack://@sycho/flarum-asirem/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@sycho/flarum-asirem/external \"flarum.core.compat['helpers/listItems']\"","webpack://@sycho/flarum-asirem/external \"flarum.core.compat['tags/common/helpers/tagIcon']\"","webpack://@sycho/flarum-asirem/external \"flarum.core.compat['tags/common/helpers/tagLabel']\"","webpack://@sycho/flarum-asirem/external \"flarum.core.compat['tags/common/utils/sortTags']\"","webpack://@sycho/flarum-asirem/external \"flarum.core.compat['tags/components/TagsPage']\"","webpack://@sycho/flarum-asirem/external \"flarum.core.compat['utils/string']\""],"names":["TagsPage","view","loading","pinned","tags","filter","tag","position","cloud","IndexPage","prototype","hero","listItems","sidebarItems","toArray","map","lastPostedDiscussion","children","sortTags","tagIconNode","tagIcon","useColor","attrs","style","backgroundColor","color","app","route","name","description","length","child","discussion","lastPostNumber","title","humanTime","lastPostedAt","tagLabel","link","initializers","add","override","Footer","AsiremTagsPage"],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA,wC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;IAEqBA,Q;;;;;SACnBC,I,GAAA,gBAAO;AACL,QAAI,KAAKC,OAAT,EAAkB;AAChB,aAAO,EAAC,yEAAD,OAAP;AACD;;AAED,QAAMC,MAAM,GAAG,KAAKC,IAAL,CAAUC,MAAV,CAAiB,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,QAAJ,OAAmB,IAA5B;AAAA,KAAjB,CAAf;AACA,QAAMC,KAAK,GAAG,KAAKJ,IAAL,CAAUC,MAAV,CAAiB,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,QAAJ,OAAmB,IAA5B;AAAA,KAAjB,CAAd;AAEA,WACE;AAAK,eAAS,EAAC;AAAf,OACGE,kEAAS,CAACC,SAAV,CAAoBC,IAApB,EADH,EAEE;AAAK,eAAS,EAAC;AAAf,OACE;AAAK,eAAS,EAAC;AAAf,OACE,cAAKC,+DAAS,CAACH,kEAAS,CAACC,SAAV,CAAoBG,YAApB,GAAmCC,OAAnC,EAAD,CAAd,CADF,CADF,EAKE;AAAK,eAAS,EAAC;AAAf,OACE;AAAI,eAAS,EAAC;AAAd,OACGX,MAAM,CAACY,GAAP,CAAW,UAACT,GAAD,EAAS;AACnB,UAAMU,oBAAoB,GAAGV,GAAG,CAACU,oBAAJ,EAA7B;AACA,UAAMC,QAAQ,GAAGC,wEAAQ,CAACZ,GAAG,CAACW,QAAJ,MAAkB,EAAnB,CAAzB;AACA,UAAME,WAAW,GAAGC,yEAAO,CAACd,GAAD,EAAM,EAAN,EAAU;AAAEe,gBAAQ,EAAE;AAAZ,OAAV,CAA3B;AAEA,aAAOF,WAAW,CAACG,KAAZ,CAAkBC,KAAlB,CAAwBC,eAA/B;AAEA,aACE;AAAI,iBAAS,EAAE,qBAAqBlB,GAAG,CAACmB,KAAJ,KAAc,SAAd,GAA0B,EAA/C,CAAf;AAAmE,aAAK,EAAE;AAAE,sBAAYnB,GAAG,CAACmB,KAAJ;AAAd;AAA1E,SACE,EAAC,6DAAD;AAAM,iBAAS,EAAC,qBAAhB;AAAsC,YAAI,EAAEC,GAAG,CAACC,KAAJ,CAAUrB,GAAV,CAAcA,GAAd;AAA5C,SACE;AAAK,iBAAS,EAAC;AAAf,SAAsCa,WAAtC,CADF,EAEE;AAAK,iBAAS,EAAC;AAAf,SACE;AAAI,iBAAS,EAAC;AAAd,SAAqCb,GAAG,CAACsB,IAAJ,EAArC,CADF,EAEE;AAAG,iBAAS,EAAC;AAAb,SAA2CtB,GAAG,CAACuB,WAAJ,EAA3C,CAFF,EAGGZ,QAAQ,IAAIA,QAAQ,CAACa,MAArB,GACC;AAAK,iBAAS,EAAC;AAAf,SACGb,QAAQ,CAACF,GAAT,CAAa,UAACgB,KAAD;AAAA,eAAW,CACvB,EAAC,6DAAD;AAAM,cAAI,EAAEL,GAAG,CAACC,KAAJ,CAAUrB,GAAV,CAAcyB,KAAd,CAAZ;AAAkC,mBAAS,EAAC;AAA5C,WACGA,KAAK,CAACH,IAAN,EADH,CADuB,EAIvB,GAJuB,CAAX;AAAA,OAAb,CADH,CADD,GAUC,EAbJ,EAeGZ,oBAAoB,GACnB,EAAC,6DAAD;AACE,iBAAS,EAAC,qCADZ;AAEE,YAAI,EAAEU,GAAG,CAACC,KAAJ,CAAUK,UAAV,CAAqBhB,oBAArB,EAA2CA,oBAAoB,CAACiB,cAArB,EAA3C;AAFR,SAIE;AAAM,iBAAS,EAAC;AAAhB,SAA6DjB,oBAAoB,CAACkB,KAArB,EAA7D,CAJF,EAKGC,+DAAS,CAACnB,oBAAoB,CAACoB,YAArB,EAAD,CALZ,CADmB,GASnB;AAAM,iBAAS,EAAC;AAAhB,QAxBJ,CAFF,CADF,CADF;AAkCD,KAzCA,CADH,CADF,EA8CG5B,KAAK,CAACsB,MAAN,GAAe;AAAK,eAAS,EAAC;AAAf,OAAkCtB,KAAK,CAACO,GAAN,CAAU,UAACT,GAAD;AAAA,aAAS,CAAC+B,0EAAQ,CAAC/B,GAAD,EAAM;AAAEgC,YAAI,EAAE;AAAR,OAAN,CAAT,EAAgC,GAAhC,CAAT;AAAA,KAAV,CAAlC,CAAf,GAAmH,EA9CtH,CALF,CAFF,CADF;AA2DD,G;;;;;;;;;;;;;;;;;AC9EH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEAZ,GAAG,CAACa,YAAJ,CAAiBC,GAAjB,CAAqB,cAArB,EAAqC,YAAM;AACzCC,uEAAQ,CAACC,iGAAM,CAAChC,SAAR,EAAmB,WAAnB,EAAgC,YAAY;AAClD,WACE;AAAK,WAAK,EAAC,4BAAX;AAAwC,WAAK,EAAC,MAA9C;AAAqD,YAAM,EAAC,KAA5D;AAAkE,eAAS,EAAC;AAA5E,OACE;AACE,sBAAa,GADf;AAEE,OAAC,EAAC;AAFJ,MADF,CADF;AAQD,GATO,CAAR;AAWA+B,uEAAQ,CAACzC,sEAAQ,CAACU,SAAV,EAAqB,MAArB,EAA6BiC,4DAAc,CAACjC,SAAf,CAAyBT,IAAtD,CAAR;AACD,CAbD,E;;;;;;;;;;;ACNA,qD;;;;;;;;;;;ACAA,4D;;;;;;;;;;;ACAA,uD;;;;;;;;;;;ACAA,mE;;;;;;;;;;;ACAA,2F;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,mE;;;;;;;;;;;ACAA,oE;;;;;;;;;;;ACAA,kE;;;;;;;;;;;ACAA,gE;;;;;;;;;;;ACAA,oD","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","import IndexPage from 'flarum/components/IndexPage';\r\nimport Link from 'flarum/components/Link';\r\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\r\nimport listItems from 'flarum/helpers/listItems';\r\nimport humanTime from 'flarum/helpers/humanTime';\r\n\r\nimport tagIcon from 'flarum/tags/common/helpers/tagIcon';\r\nimport tagLabel from 'flarum/tags/common/helpers/tagLabel';\r\nimport sortTags from 'flarum/tags/common/utils/sortTags';\r\n\r\nexport default class TagsPage {\r\n  view() {\r\n    if (this.loading) {\r\n      return <LoadingIndicator />;\r\n    }\r\n\r\n    const pinned = this.tags.filter((tag) => tag.position() !== null);\r\n    const cloud = this.tags.filter((tag) => tag.position() === null);\r\n\r\n    return (\r\n      <div className=\"Asirem-TagsPage\">\r\n        {IndexPage.prototype.hero()}\r\n        <div className=\"sideNavContainer container\">\r\n          <nav className=\"TagsPage-nav IndexPage-nav sideNav\">\r\n            <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\r\n          </nav>\r\n\r\n          <div className=\"TagsPage-content sideNavOffset\">\r\n            <ul className=\"Asirem-TagTiles\">\r\n              {pinned.map((tag) => {\r\n                const lastPostedDiscussion = tag.lastPostedDiscussion();\r\n                const children = sortTags(tag.children() || []);\r\n                const tagIconNode = tagIcon(tag, {}, { useColor: false });\r\n\r\n                delete tagIconNode.attrs.style.backgroundColor;\r\n\r\n                return (\r\n                  <li className={'Asirem-TagTile ' + (tag.color() ? 'colored' : '')} style={{ '--tag-bg': tag.color() }}>\r\n                    <Link className=\"Asirem-TagTile-info\" href={app.route.tag(tag)}>\r\n                      <div className=\"Asirem-TagTile-icon\">{tagIconNode}</div>\r\n                      <div className=\"Asirem-TagTile-content\">\r\n                        <h3 className=\"Asirem-TagTile-name\">{tag.name()}</h3>\r\n                        <p className=\"Asirem-TagTile-description\">{tag.description()}</p>\r\n                        {children && children.length ? (\r\n                          <div className=\"Asirem-TagTile-children\">\r\n                            {children.map((child) => [\r\n                              <Link href={app.route.tag(child)} className=\"TagLabel\">\r\n                                {child.name()}\r\n                              </Link>,\r\n                              ' ',\r\n                            ])}\r\n                          </div>\r\n                        ) : (\r\n                          ''\r\n                        )}\r\n                        {lastPostedDiscussion ? (\r\n                          <Link\r\n                            className=\"Asirem-TagTile-lastPostedDiscussion\"\r\n                            href={app.route.discussion(lastPostedDiscussion, lastPostedDiscussion.lastPostNumber())}\r\n                          >\r\n                            <span className=\"Asirem-TagTile-lastPostedDiscussion-title\">{lastPostedDiscussion.title()}</span>\r\n                            {humanTime(lastPostedDiscussion.lastPostedAt())}\r\n                          </Link>\r\n                        ) : (\r\n                          <span className=\"Asirem-TagTile-lastPostedDiscussion\" />\r\n                        )}\r\n                      </div>\r\n                    </Link>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n\r\n            {cloud.length ? <div className=\"Asirem-TagCloud\">{cloud.map((tag) => [tagLabel(tag, { link: true }), ' '])}</div> : ''}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { extend, override } from 'flarum/common/extend';\r\nimport TagsPage from 'flarum/tags/components/TagsPage';\r\nimport AsiremTagsPage from './components/TagsPage';\r\nimport { truncate } from 'flarum/utils/string';\r\nimport Footer from 'flarum/extensions/afrux-theme-base/forum/components/Footer';\r\n\r\napp.initializers.add('afrux-asirem', () => {\r\n  override(Footer.prototype, 'separator', function () {\r\n    return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1440\" height=\"288\" className=\"Asirem-footerWaves\">\r\n        <path\r\n          fill-opacity=\"1\"\r\n          d=\"M0,224L18.5,186.7C36.9,149,74,75,111,58.7C147.7,43,185,85,222,112C258.5,139,295,149,332,154.7C369.2,160,406,160,443,149.3C480,139,517,117,554,101.3C590.8,85,628,75,665,96C701.5,117,738,171,775,165.3C812.3,160,849,96,886,101.3C923.1,107,960,181,997,218.7C1033.8,256,1071,256,1108,250.7C1144.6,245,1182,235,1218,202.7C1255.4,171,1292,117,1329,117.3C1366.2,117,1403,171,1422,197.3L1440,224L1440,320L1421.5,320C1403.1,320,1366,320,1329,320C1292.3,320,1255,320,1218,320C1181.5,320,1145,320,1108,320C1070.8,320,1034,320,997,320C960,320,923,320,886,320C849.2,320,812,320,775,320C738.5,320,702,320,665,320C627.7,320,591,320,554,320C516.9,320,480,320,443,320C406.2,320,369,320,332,320C295.4,320,258,320,222,320C184.6,320,148,320,111,320C73.8,320,37,320,18,320L0,320Z\"\r\n        ></path>\r\n      </svg>\r\n    );\r\n  });\r\n\r\n  override(TagsPage.prototype, 'view', AsiremTagsPage.prototype.view);\r\n});\r\n","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['components/Link'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['extensions/afrux-theme-base/forum/components/Footer'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['tags/common/helpers/tagIcon'];","module.exports = flarum.core.compat['tags/common/helpers/tagLabel'];","module.exports = flarum.core.compat['tags/common/utils/sortTags'];","module.exports = flarum.core.compat['tags/components/TagsPage'];","module.exports = flarum.core.compat['utils/string'];"],"sourceRoot":""}